{
  "image_conditioning": {
    "input_folder": {
      "value": "Input",
      "type": "string",
      "description": "Input folder containing images and PDFs to process"
    },
    "output_folder": {
      "value": "results_conditioned",
      "type": "string",
      "description": "Output folder for conditioned images"
    },
    "strength": {
      "value": 10,
      "range": [0, 100],
      "type": "integer",
      "description": "Global conditioning strength. 0 = original image (minimal processing), 100 = full processing (maximum enhancement)"
    },
    "adaptive_block_size": {
      "value": 11,
      "range": [3, 51],
      "type": "integer",
      "description": "Block size for adaptive thresholding (must be odd). Larger values = smoother thresholding, smaller = more detail. Typical: 11-15"
    },
    "adaptive_C": {
      "value": 2,
      "range": [-10, 20],
      "type": "integer",
      "description": "Constant subtracted from mean in adaptive thresholding. Positive values = darker threshold (more text), negative = lighter threshold (less text). Typical: 0-5"
    },
    "morph_kernel_size": {
      "value": [2, 2],
      "range": [[1, 1], [5, 5]],
      "type": "array",
      "description": "Morphological operation kernel size [width, height]. Larger = more aggressive noise removal but may blur text. Typical: [2,2] to [3,3]"
    },
    "morph_iterations": {
      "value": 1,
      "range": [0, 5],
      "type": "integer",
      "description": "Number of morphological operation iterations. More iterations = stronger effect. Typical: 1-2"
    },
    "target_width": {
      "value": 1280,
      "range": [640, 2560],
      "type": "integer",
      "description": "Target width for resizing (pixels). Larger = better quality but slower processing. Typical: 1280-1920"
    },
    "target_height": {
      "value": 1792,
      "range": [960, 3200],
      "type": "integer",
      "description": "Target height for resizing (pixels). Larger = better quality but slower processing. Typical: 1792-2560"
    },
    "canny_threshold1": {
      "value": 50,
      "range": [10, 200],
      "type": "integer",
      "description": "Lower threshold for Canny edge detection. Lower = more edges detected. Typical: 50-100"
    },
    "canny_threshold2": {
      "value": 150,
      "range": [50, 300],
      "type": "integer",
      "description": "Upper threshold for Canny edge detection. Higher = stronger edges only. Typical: 150-250"
    },
    "min_contour_area": {
      "value": 5000,
      "range": [1000, 50000],
      "type": "integer",
      "description": "Minimum contour area for page detection (pixels). Larger = only big pages detected. Typical: 5000-20000"
    },
    "max_pages": {
      "value": null,
      "type": "integer_or_null",
      "description": "Maximum number of pages to process from PDFs. null = process all pages"
    },
    "denoise_ksize": {
      "value": null,
      "range": [3, 15],
      "type": "integer_or_null",
      "description": "Median blur denoising kernel size (must be odd, >=3). null = no denoising. Larger = more aggressive noise removal. Typical: 3-5"
    },
    "png_compression": {
      "value": 0,
      "range": [0, 9],
      "type": "integer",
      "description": "PNG compression level. 0 = no compression (best quality, large files), 9 = maximum compression (smaller files, slower). Typical: 1-3"
    },
    "min_scale_for_zero": {
      "value": 0.5,
      "range": [0.1, 1.0],
      "type": "float",
      "description": "Minimum scale fraction when strength=0. Prevents excessive downscaling. 0.5 = don't scale below 50% of original. Typical: 0.5-0.8"
    },
    "debug_mode": {
      "value": false,
      "type": "boolean",
      "description": "Enable debug mode to save intermediate images (bounding boxes and warped images) to debug folders inside results_conditioned"
    }
  },
  "ocr_workflow": {
    "json_output_folder": {
      "value": "Results",
      "type": "string",
      "description": "Folder to save OCR results JSON files"
    },
    "timestamp_json": {
      "value": true,
      "type": "boolean",
      "description": "Whether to add timestamp to JSON filename to avoid overwrites"
    },
    "ocr_output_folder": {
      "value": "Output",
      "type": "string",
      "description": "Folder to save individual OCR output files (txt, markdown, docx)"
    },
    "output_formats": {
      "value": ["txt", "markdown"],
      "range": ["txt", "markdown", "docx", "json"],
      "type": "array",
      "description": "Output formats to generate. Multiple formats can be selected. Options: 'txt' (plain text, default), 'markdown' (.md with formatting), 'docx' (Word document), 'json' (consolidated JSON file). At least one format must be selected."
    },
    "ocr_model": {
      "value": "Nanonets-OCR2-3B",
      "range": ["Nanonets-OCR2-3B", "Chandra-OCR", "Dots.OCR", "olmOCR-2-7B-1025"],
      "type": "string",
      "description": "Primary OCR model to use. Available models: 'Nanonets-OCR2-3B' (default, high accuracy), 'Chandra-OCR', 'Dots.OCR', 'olmOCR-2-7B-1025'"
    },
    "fallback_models": {
      "value": ["Chandra-OCR", "Dots.OCR", "olmOCR-2-7B-1025"],
      "range": ["Nanonets-OCR2-3B", "Chandra-OCR", "Dots.OCR", "olmOCR-2-7B-1025"],
      "type": "array",
      "description": "List of fallback models to try if primary model fails or times out. Models will be tried in order until one succeeds."
    },
    "enable_fallback": {
      "value": true,
      "type": "boolean",
      "description": "Enable automatic fallback to alternative models if primary model fails or times out"
    },
    "api_timeout": {
      "value": 60,
      "range": [30, 180],
      "type": "integer",
      "description": "Timeout in seconds for API requests. If exceeded, will try next fallback model (if enabled)"
    }
  },
  "orientation_validation": {
    "enabled": {
      "value": true,
      "type": "boolean",
      "description": "Enable orientation validation to detect and correct upside-down/sideways text"
    },
    "readability_threshold": {
      "value": 0.70,
      "range": [0.5, 0.9],
      "type": "float",
      "description": "Minimum score (0-1) for text to be considered readable. Higher = stricter validation. Typical: 0.65-0.75"
    },
    "baseline_position_min": {
      "value": 0.45,
      "range": [0.3, 0.6],
      "type": "float",
      "description": "Minimum baseline position (as fraction of image height) for correct orientation. Lower values = more lenient. Typical: 0.4-0.5"
    },
    "baseline_position_max": {
      "value": 0.75,
      "range": [0.6, 0.9],
      "type": "float",
      "description": "Maximum baseline position (as fraction of image height) for correct orientation. Higher values = more lenient. Typical: 0.7-0.8"
    }
  },
  "gibberish_detection": {
    "enabled": {
      "value": true,
      "type": "boolean",
      "description": "Enable gibberish detection to identify unreadable OCR results"
    },
    "threshold": {
      "value": 0.55,
      "range": [0.4, 0.8],
      "type": "float",
      "description": "Gibberish detection threshold. Scores above this indicate gibberish. Lower = more sensitive. Typical: 0.5-0.65"
    },
    "min_valid_words": {
      "value": 3,
      "range": [1, 10],
      "type": "integer",
      "description": "Minimum number of valid words required for text analysis. Lower = analyze shorter texts. Typical: 3-5"
    }
  }
}
